[
  ${
    range(10).map(
      function(item, i)
      {
        const node = `node-${i}`;
        const service = location.segment(3);
        const ip = fake.internet.ip();
        return `
        {
          "Node":{
            "ID":"7037e928-d9e8-3b58-4712-6f5ded209002",
            "Node":"${node}",
            "Address":"${ip}",
            "Datacenter":"dc1",
            "TaggedAddresses":{"lan":"${ip}","wan":"${ip}"},
            "Meta":{"${service}-network-segment":""},
            "CreateIndex":5,
            "ModifyIndex":6
          },
          "Service":{
            "ID":"${service}",
            "Service":"${service}",
            "Tags":[],
            "Address":"",
            "Port":${fake.random.number({min: 1, max: 6553})},
            "EnableTagOverride":false,
            "CreateIndex":5,
            "ModifyIndex":5
          },
          "Checks":[
          ${
            range(fake.random.number(1) + 1).map(
              function(item, i) {
                return `
                {
                  "Node":"${node}",
                  "CheckID":"serfHealth",
                  "Name":"Serf Health Status",
                  "Status":"passing",
                  "Notes":"",
                  "Output":"Agent alive and reachable",
                  "ServiceID":"",
                  "ServiceName":"",
                  "ServiceTags":[],
                  "Definition":{},
                  "CreateIndex":5,
                  "ModifyIndex":5
                }
                `;
              }
            )
          }
          ]
        }
        `;
      }
    )
  }
]
